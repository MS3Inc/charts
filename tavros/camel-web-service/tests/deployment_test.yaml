suite: camel web service
templates: 
  - deployment.yaml
release:
  name: system-api
tests:
  - it: deployment should have the correct metadata name
    template: deployment.yaml      
    asserts:
      - equal:
          path: metadata.name
          value: system-api-camel-web-service
  - it: image name is correct
    values:
    - test-values.yaml
    template: deployment.yaml      
    asserts:
      - equal:
          path: spec.template.spec.containers[0].image
          value: registry.something.com/sample:1.0.0-SNAPSHOT
  - it: security context can be overriden
    values:
    - test-values.yaml
    template: deployment.yaml      
    asserts:
      - equal:
          path: spec.template.spec.containers[0].securityContext
          value: null
  - it: resources set
    values:
    - test-values.yaml
    template: deployment.yaml      
    asserts:
      - isSubset:
          path: spec.template.spec.containers[0].resources
          content:
            requests:
              cpu: 50m
              memory: 500Mi